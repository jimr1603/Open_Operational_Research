summarise(total_life_years = sum(`All Ages` * `Discount Factor`))
}
else if(year_of_catastrophe<=last_year){
forecast %>%
mutate(`All Ages` = if_else(`Projected Year` < year_of_catastrophe + first_year,
`All Ages`,
0)) %>% #Everything progresses as normal, apart from when everyone dies.
summarise(total_life_years = sum(`All Ages` * `Discount Factor`))
}
}
intervention <- discounted_life_years(forecast, TRUE)
cost_of_no_intervention <- map_dfr(1:100, function(year) discounted_life_years(forecast, FALSE, year) %>%
mutate(year_of_catastrophe = year))
intervention <- life_years(forecast, TRUE) %>% pull()
cost_of_no_intervention <- cost_of_no_intervention %>%
mutate(`Years of life lost if Thanos does nothing` = intervention - total_life_years)
plot_ly(cost_of_no_intervention, x=~year_of_catastrophe) %>%
add_lines(y=~`Years of life lost if Thanos does nothing`)
forecast <- forecast %>%
mutate(Year = `Projected Year` - 2016) %>%
left_join(health_discount) %>%
select(-Year)
discounted_life_years <- function(forecast, intervention=FALSE, year_of_catastrophe=Inf){
if(intervention){ #i.e. Thanos snaps his fingers
forecast %>%
mutate(`All Ages` = `All Ages`/2) %>% #half the population              disappears, but no universal catastrophe.
summarise(total_life_years = sum(`All Ages` * `Discount Factor`))
}
else if(year_of_catastrophe<=last_year){
forecast %>%
mutate(`All Ages` = if_else(`Projected Year` < year_of_catastrophe + first_year,
`All Ages`,
0)) %>% #Everything progresses as normal, apart from when everyone dies.
summarise(total_life_years = sum(`All Ages` * `Discount Factor`))
}
}
intervention <- discounted_life_years(forecast, TRUE) %>% pull()
cost_of_no_intervention <- map_dfr(1:100, function(year) discounted_life_years(forecast, FALSE, year) %>%
mutate(year_of_catastrophe = year))
cost_of_no_intervention <- cost_of_no_intervention %>%
mutate(`Years of life lost if Thanos does nothing` = intervention - total_life_years)
plot_ly(cost_of_no_intervention, x=~year_of_catastrophe) %>%
add_lines(y=~`Years of life lost if Thanos does nothing`)
discounted_life_years <- function(forecast, intervention=FALSE, year_of_catastrophe=Inf){
if(intervention){ #i.e. Thanos snaps his fingers
forecast %>%
mutate(`All Ages` = `All Ages`/2) %>% #half the population              disappears, but no universal catastrophe.
mutate(`All Ages` = `All Ages`)
summarise(total_life_years = sum(`All Ages` * `Discount Factor`))
}
else if(year_of_catastrophe<=last_year){
forecast %>%
mutate(`All Ages` = if_else(`Projected Year` < year_of_catastrophe + first_year,
`All Ages`,
0)) %>% #Everything progresses as normal, apart from when everyone dies.
summarise(total_life_years = sum(`All Ages` * `Discount Factor`))
}
else{ #Scenario where Thanos is wrong.
forecast %>%
summarise(total_life_years = sum(`All Ages` * `Discount Factor`))
}
}
discounted_life_years(forecast, FALSE, Inf) -
discounted_life_years(forecast, TRUE)
discounted_life_years <- function(forecast, intervention=FALSE, year_of_catastrophe=Inf){
if(intervention){ #i.e. Thanos snaps his fingers
forecast %>%
mutate(`All Ages` = `All Ages`/2) %>% #half the population              disappears, but no universal catastrophe.
summarise(total_life_years = sum(`All Ages` * `Discount Factor`))
}
else if(year_of_catastrophe<=last_year){
forecast %>%
mutate(`All Ages` = if_else(`Projected Year` < year_of_catastrophe + first_year,
`All Ages`,
0)) %>% #Everything progresses as normal, apart from when everyone dies.
summarise(total_life_years = sum(`All Ages` * `Discount Factor`))
}
else{ #Scenario where Thanos is wrong.
forecast %>%
summarise(total_life_years = sum(`All Ages` * `Discount Factor`))
}
}
discounted_life_years(forecast, FALSE, Inf) -
discounted_life_years(forecast, TRUE)
discounted_life_years <- function(forecast, intervention=FALSE, year_of_catastrophe=Inf){
if(intervention){ #i.e. Thanos snaps his fingers
forecast %>%
mutate(`All Ages` = `All Ages`/2) %>% #half the population              disappears, but no universal catastrophe.
summarise(total_life_years = sum(`All Ages` * `Discount Factor`))
}
else if(year_of_catastrophe<=last_year){
forecast %>%
mutate(`All Ages` = if_else(`Projected Year` < year_of_catastrophe + first_year,
`All Ages`,
0)) %>% #Everything progresses as normal, apart from when everyone dies.
summarise(total_life_years = sum(`All Ages` * `Discount Factor`))
}
else{ #Scenario where Thanos is wrong.
forecast %>%
summarise(total_life_years = sum(`All Ages` * `Discount Factor`))
}
}
discounted_life_years(forecast, FALSE, Inf) -
discounted_life_years(forecast, TRUE) %>%
printing_large_num()
discounted_life_years <- function(forecast, intervention=FALSE, year_of_catastrophe=Inf){
if(intervention){ #i.e. Thanos snaps his fingers
forecast %>%
mutate(`All Ages` = `All Ages`/2) %>% #half the population              disappears, but no universal catastrophe.
summarise(total_life_years = sum(`All Ages` * `Discount Factor`))
}
else if(year_of_catastrophe<=last_year){
forecast %>%
mutate(`All Ages` = if_else(`Projected Year` < year_of_catastrophe + first_year,
`All Ages`,
0)) %>% #Everything progresses as normal, apart from when everyone dies.
summarise(total_life_years = sum(`All Ages` * `Discount Factor`))
}
else{ #Scenario where Thanos is wrong.
forecast %>%
summarise(total_life_years = sum(`All Ages` * `Discount Factor`))
}
}
(discounted_life_years(forecast, FALSE, Inf) -
discounted_life_years(forecast, TRUE)) %>%
pull() %>%
printing_large_num()
tibble(t=0:200, y=2^(t%%100)) %>%
ggplot(aes(x=t, y=y)) + geom_line()
period = 10
tibble(t=0:(2*period), y=2^(t%%period)) %>%
ggplot(aes(x=t, y=y)) + geom_line()
period = 10
tibble(t=seq(0,2*period, length.out = 1e5), y=2^(t%%period)) %>%
ggplot(aes(x=t, y=y)) + geom_line()
period = 10
reduced_pop <- 2^(period/2)
tibble(t=seq(0,2*period, length.out = 1e5), y=2^(t%%period)+reduced_pop) %>%
ggplot(aes(x=t, y=y)) + geom_line()
period = 10
reduced_pop <- 2^(period)/2
tibble(t=seq(0,2*period, length.out = 1e5), y=2^(t%%period)+reduced_pop) %>%
ggplot(aes(x=t, y=y)) + geom_line()
period = 10
reduced_pop <- (2^(period))/2
tibble(t=seq(0,2*period, length.out = 1e5), y=2^(t%%period)+reduced_pop) %>%
ggplot(aes(x=t, y=y)) + geom_line()
period = 10
bind_rows( tibble(t=seq(0,period,length.out = 1e4),y=2^t),
tibble(t=seq(0 period, length.out = 1e4, y=2^{t-1})) %>% mutate(t = t+period))  %>%
period = 10
bind_rows( tibble(t=seq(0,period,length.out = 1e4),y=2^t),
tibble(t=seq(0, period, length.out = 1e4, y=2^{t-1})) %>% mutate(t = t+period))  %>%
ggplot(aes(x=t, y=y)) + geom_line()
period = 10
bind_rows( tibble(t=seq(0,period,length.out = 1e4),y=2^t),
tibble(t=seq(0, period, length.out = 1e4, y=2^(t-1)) %>% mutate(t = t+period))  %>%
ggplot(aes(x=t, y=y)) + geom_line()
period = 10
bind_rows( tibble(t=seq(0,period,length.out = 1e4),y=2^t),
tibble(t=seq(0, period, length.out = 1e4, y=2^(t-1)))) %>% mutate(t = t+period))  %>%
period = 10
bind_rows( tibble(t=seq(0,period,length.out = 1e4),y=2^t),
tibble(t=seq(0, period, length.out = 1e4, y=2^(t-1)))) %>% mutate(t = t+period)  %>%
ggplot(aes(x=t, y=y)) + geom_line()
period = 10
bind_rows( tibble(t=seq(0,period,length.out = 1e4),y=2^t),
tibble(t=seq(0, period, length.out = 1e4), y=2^(t-1))) %>% mutate(t = t+period)  %>%
ggplot(aes(x=t, y=y)) + geom_line()
period = 10
bind_rows( tibble(t=seq(0,period,length.out = 1e4),y=2^t),
tibble(t=seq(0, period, length.out = 1e4), y=2^(t-1)) %>% mutate(t = t+period)
) %>%
ggplot(aes(x=t, y=y)) + geom_line()
period = 10
bind_rows( tibble(t=seq(0,period,length.out = 1e4),y=2^t),
tibble(t=seq(0, period, length.out = 1e4), y=(2^t)+(2^(period-1))) %>% mutate(t = t+period)
) %>%
ggplot(aes(x=t, y=y)) + geom_line()
period = 10
bind_rows( tibble(t=seq(0,period,length.out = 1e4),y=2^t),
tibble(t=seq(0, period, length.out = 1e4), y=(2^t)+(2^(period-1))) %>% mutate(t = t+period)
) %>%
ggplot(aes(x=t, y=y)) + geom_line() + theme_minimal()
blogdown::serve_site()
knitr::opts_chunk$set(
message = FALSE,
warning = FALSE,
collapse = TRUE,
cache = TRUE
)
library("tidyverse")
library("plotly")
data_dir <- here::here("static", "data", "Open Government Licence/")
health_discount <- read_csv(paste0(data_dir, "HMT health discount.csv"))
printing_large_num <- function(number)
number %>%
signif(3) %>%
format(number, digits=3, scientific = F, big.mark = ",")
forecast <- read_csv(paste0(data_dir, "ONS population projection.csv"), col_types = c("int", "numeric"))
uk_pop <- forecast$`All Ages`[1]
last_year <- forecast %>% pull(1) %>% max() #store the largest year in the forecast, for later use.
first_year <- forecast %>% pull(1) %>% min() # We need the first one as well
life_years <- function(forecast, intervention=FALSE, year_of_catastrophe=Inf){
if(intervention){ #i.e. Thanos snaps his fingers
forecast %>%
mutate(`All Ages` = `All Ages`/2) %>% #half the population              disappears, but no universal catastrophe.
summarise(total_life_years = sum(`All Ages` * `Discount Factor`))
}
else if(year_of_catastrophe<=last_year){
forecast %>%
mutate(`All Ages` = if_else(`Projected Year` < year_of_catastrophe + first_year,
`All Ages`,
0)) %>% #Everything progresses as normal, apart from when everyone dies.
summarise(total_life_years = sum(`All Ages` * `Discount Factor`))
}
}
cost_of_no_intervention <- map_dfr(1:100, function(year) life_years(forecast, FALSE, year) %>%
mutate(year_of_catastrophe = year))
blogdown::serve_site()
last_year <- forecast %>% pull(1) %>% max() #store the largest year in the forecast, for later use.
knitr::opts_chunk$set(
message = FALSE,
warning = FALSE,
collapse = TRUE,
cache = TRUE
)
library("tidyverse")
library("plotly")
data_dir <- here::here("static", "data", "Open Government Licence/")
health_discount <- read_csv(paste0(data_dir, "HMT health discount.csv"))
printing_large_num <- function(number)
number %>%
signif(3) %>%
format(number, digits=3, scientific = F, big.mark = ",")
forecast <- read_csv(paste0(data_dir, "ONS population projection.csv"), col_types = c("int", "numeric"))
uk_pop <- forecast$`All Ages`[1]
last_year <- forecast %>% pull(1) %>% max() #store the largest year in the forecast, for later use.
first_year <- forecast %>% pull(1) %>% min() # We need the first one as well
life_years <- function(forecast, intervention=FALSE, year_of_catastrophe=Inf){
if(intervention){ #i.e. Thanos snaps his fingers
forecast %>%
mutate(`All Ages` = `All Ages`/2) %>% #half the population              disappears, but no universal catastrophe.
summarise(total_life_years = sum(`All Ages`))
}
else if(year_of_catastrophe<=last_year){
forecast %>%
mutate(`All Ages` = if_else(`Projected Year` < year_of_catastrophe + first_year,
`All Ages`,
0)) %>% #Everything progresses as normal, apart from when everyone dies.
summarise(total_life_years = sum(`All Ages` * `Discount Factor`))
}
}
cost_of_no_intervention <- map_dfr(1:100, function(year) life_years(forecast, FALSE, year) %>%
mutate(year_of_catastrophe = year))
last_year <- forecast %>% pull(1) %>% max() #store the largest year in the forecast, for later use.
first_year <- forecast %>% pull(1) %>% min() # We need the first one as well
life_years <- function(forecast, intervention=FALSE, year_of_catastrophe=Inf){
if(intervention){ #i.e. Thanos snaps his fingers
forecast %>%
mutate(`All Ages` = `All Ages`/2) %>% #half the population              disappears, but no universal catastrophe.
summarise(total_life_years = sum(`All Ages`))
}
else if(year_of_catastrophe<=last_year){
forecast %>%
mutate(`All Ages` = if_else(`Projected Year` < year_of_catastrophe + first_year,
`All Ages`,
0)) %>% #Everything progresses as normal, apart from when everyone dies.
summarise(total_life_years = sum(`All Ages`))
}
}
cost_of_no_intervention <- map_dfr(1:100, function(year) life_years(forecast, FALSE, year) %>%
mutate(year_of_catastrophe = year))
intervention <- life_years(forecast, TRUE) %>% pull()
cost_of_no_intervention <- cost_of_no_intervention %>%
mutate(`Years of life lost if Thanos does nothing` = intervention - total_life_years)
plot_ly(cost_of_no_intervention, x=~year_of_catastrophe) %>%
add_lines(y=~`Years of life lost if Thanos does nothing`)
forecast <- forecast %>%
mutate(Year = `Projected Year` - 2016) %>%
left_join(health_discount) %>%
select(-Year)
discounted_life_years <- function(forecast, intervention=FALSE, year_of_catastrophe=Inf){
if(intervention){ #i.e. Thanos snaps his fingers
forecast %>%
mutate(`All Ages` = `All Ages`/2) %>% #half the population              disappears, but no universal catastrophe.
summarise(total_life_years = sum(`All Ages` * `Discount Factor`))
}
else if(year_of_catastrophe<=last_year){
forecast %>%
mutate(`All Ages` = if_else(`Projected Year` < year_of_catastrophe + first_year,
`All Ages`,
0)) %>% #Everything progresses as normal, apart from when everyone dies.
summarise(total_life_years = sum(`All Ages` * `Discount Factor`))
}
}
intervention <- discounted_life_years(forecast, TRUE) %>% pull()
cost_of_no_intervention <- map_dfr(1:100, function(year) discounted_life_years(forecast, FALSE, year) %>%
mutate(year_of_catastrophe = year))
cost_of_no_intervention <- cost_of_no_intervention %>%
mutate(`Years of life lost if Thanos does nothing` = intervention - total_life_years)
plot_ly(cost_of_no_intervention, x=~year_of_catastrophe) %>%
add_lines(y=~`Years of life lost if Thanos does nothing`)
blogdown::serve_site()
knitr::opts_chunk$set(
message = FALSE,
warning = FALSE,
collapse = TRUE,
cache = TRUE
)
library("tidyverse")
library("plotly")
data_dir <- here::here("static", "data", "Open Government Licence/")
health_discount <- read_csv(paste0(data_dir, "HMT health discount.csv"))
printing_large_num <- function(number)
number %>%
signif(3) %>%
format(number, digits=3, scientific = F, big.mark = ",")
forecast <- read_csv(paste0(data_dir, "ONS population projection.csv"), col_types = c("int", "numeric"))
uk_pop <- forecast$`All Ages`[1]
last_year <- forecast %>% pull(1) %>% max() #store the largest year in the forecast, for later use.
first_year <- forecast %>% pull(1) %>% min() # We need the first one as well
life_years <- function(forecast, intervention=FALSE, year_of_catastrophe=Inf){
if(intervention){ #i.e. Thanos snaps his fingers
forecast %>%
mutate(`All Ages` = `All Ages`/2) %>% #half the population              disappears, but no universal catastrophe.
summarise(total_life_years = sum(`All Ages`))
}
else if(year_of_catastrophe<=last_year){
forecast %>%
mutate(`All Ages` = if_else(`Projected Year` < year_of_catastrophe + first_year,
`All Ages`,
0)) %>% #Everything progresses as normal, apart from when everyone dies.
summarise(total_life_years = sum(`All Ages`))
}
}
cost_of_no_intervention <- map_dfr(1:100, function(year) life_years(forecast, FALSE, year) %>%
mutate(year_of_catastrophe = year))
intervention <- life_years(forecast, TRUE) %>% pull()
cost_of_no_intervention <- cost_of_no_intervention %>%
mutate(`Years of life lost if Thanos does nothing` = intervention - total_life_years)
plot_ly(cost_of_no_intervention, x=~year_of_catastrophe) %>%
add_lines(y=~`Years of life lost if Thanos does nothing`)
forecast <- forecast %>%
mutate(Year = `Projected Year` - 2016) %>%
left_join(health_discount) %>%
select(-Year)
discounted_life_years <- function(forecast, intervention=FALSE, year_of_catastrophe=Inf){
if(intervention){ #i.e. Thanos snaps his fingers
forecast %>%
mutate(`All Ages` = `All Ages`/2) %>% #half the population              disappears, but no universal catastrophe.
summarise(total_life_years = sum(`All Ages` * `Discount Factor`))
}
else if(year_of_catastrophe<=last_year){
forecast %>%
mutate(`All Ages` = if_else(`Projected Year` < year_of_catastrophe + first_year,
`All Ages`,
0)) %>% #Everything progresses as normal, apart from when everyone dies.
summarise(total_life_years = sum(`All Ages` * `Discount Factor`))
}
}
intervention <- discounted_life_years(forecast, TRUE) %>% pull()
cost_of_no_intervention <- map_dfr(1:100, function(year) discounted_life_years(forecast, FALSE, year) %>%
mutate(year_of_catastrophe = year))
cost_of_no_intervention <- cost_of_no_intervention %>%
mutate(`Years of life lost if Thanos does nothing` = intervention - total_life_years)
plot_ly(cost_of_no_intervention, x=~year_of_catastrophe) %>%
add_lines(y=~`Years of life lost if Thanos does nothing`)
discounted_life_years <- function(forecast, intervention=FALSE, year_of_catastrophe=Inf){
if(intervention){ #i.e. Thanos snaps his fingers
forecast %>%
mutate(`All Ages` = `All Ages`/2) %>% #half the population              disappears, but no universal catastrophe.
summarise(total_life_years = sum(`All Ages` * `Discount Factor`))
}
else if(year_of_catastrophe<=last_year){
forecast %>%
mutate(`All Ages` = if_else(`Projected Year` < year_of_catastrophe + first_year,
`All Ages`,
0)) %>% #Everything progresses as normal, apart from when everyone dies.
summarise(total_life_years = sum(`All Ages` * `Discount Factor`))
}
else{ #Scenario where Thanos is wrong.
forecast %>%
summarise(total_life_years = sum(`All Ages` * `Discount Factor`))
}
}
(discounted_life_years(forecast, FALSE, Inf) -
discounted_life_years(forecast, TRUE)) %>%
pull() %>%
printing_large_num()
knitr::opts_chunk$set(
message = FALSE,
warning = FALSE,
collapse = TRUE,
cache = TRUE
)
library("tidyverse")
library("plotly")
data_dir <- here::here("static", "data", "Open Government Licence/")
health_discount <- read_csv(paste0(data_dir, "HMT health discount.csv"))
printing_large_num <- function(number)
number %>%
signif(3) %>%
format(number, digits=3, scientific = F, big.mark = ",")
forecast <- read_csv(paste0(data_dir, "ONS population projection.csv"), col_types = c("int", "numeric"))
uk_pop <- forecast$`All Ages`[1]
last_year <- forecast %>% pull(1) %>% max() #store the largest year in the forecast, for later use.
first_year <- forecast %>% pull(1) %>% min() # We need the first one as well
life_years <- function(forecast, intervention=FALSE, year_of_catastrophe=Inf){
if(intervention){ #i.e. Thanos snaps his fingers
forecast %>%
mutate(`All Ages` = `All Ages`/2) %>% #half the population              disappears, but no universal catastrophe.
summarise(total_life_years = sum(`All Ages`))
}
else if(year_of_catastrophe<=last_year){
forecast %>%
mutate(`All Ages` = if_else(`Projected Year` < year_of_catastrophe + first_year,
`All Ages`,
0)) %>% #Everything progresses as normal, apart from when everyone dies.
summarise(total_life_years = sum(`All Ages`))
}
}
cost_of_no_intervention <- map_dfr(1:100, function(year) life_years(forecast, FALSE, year) %>%
mutate(year_of_catastrophe = year))
intervention <- life_years(forecast, TRUE) %>% pull()
cost_of_no_intervention <- cost_of_no_intervention %>%
mutate(`Years of life lost if Thanos does nothing` = intervention - total_life_years)
plot_ly(cost_of_no_intervention, x=~year_of_catastrophe) %>%
add_lines(y=~`Years of life lost if Thanos does nothing`)
forecast <- forecast %>%
mutate(Year = `Projected Year` - 2016) %>%
left_join(health_discount) %>%
select(-Year)
discounted_life_years <- function(forecast, intervention=FALSE, year_of_catastrophe=Inf){
if(intervention){ #i.e. Thanos snaps his fingers
forecast %>%
mutate(`All Ages` = `All Ages`/2) %>% #half the population              disappears, but no universal catastrophe.
summarise(total_life_years = sum(`All Ages` * `Discount Factor`))
}
else if(year_of_catastrophe<=last_year){
forecast %>%
mutate(`All Ages` = if_else(`Projected Year` < year_of_catastrophe + first_year,
`All Ages`,
0)) %>% #Everything progresses as normal, apart from when everyone dies.
summarise(total_life_years = sum(`All Ages` * `Discount Factor`))
}
}
intervention <- discounted_life_years(forecast, TRUE) %>% pull()
cost_of_no_intervention <- map_dfr(1:100, function(year) discounted_life_years(forecast, FALSE, year) %>%
mutate(year_of_catastrophe = year))
cost_of_no_intervention <- cost_of_no_intervention %>%
mutate(`Years of life lost if Thanos does nothing` = intervention - total_life_years)
plot_ly(cost_of_no_intervention, x=~year_of_catastrophe) %>%
add_lines(y=~`Years of life lost if Thanos does nothing`)
discounted_life_years <- function(forecast, intervention=FALSE, year_of_catastrophe=Inf){
if(intervention){ #i.e. Thanos snaps his fingers
forecast %>%
mutate(`All Ages` = `All Ages`/2) %>% #half the population              disappears, but no universal catastrophe.
summarise(total_life_years = sum(`All Ages` * `Discount Factor`))
}
else if(year_of_catastrophe<=last_year){
forecast %>%
mutate(`All Ages` = if_else(`Projected Year` < year_of_catastrophe + first_year,
`All Ages`,
0)) %>% #Everything progresses as normal, apart from when everyone dies.
summarise(total_life_years = sum(`All Ages` * `Discount Factor`))
}
else{ #Scenario where Thanos is wrong.
forecast %>%
summarise(total_life_years = sum(`All Ages` * `Discount Factor`))
}
}
(discounted_life_years(forecast, FALSE, Inf) -
discounted_life_years(forecast, TRUE)) %>%
pull() %>%
printing_large_num()
period = 10
bind_rows( tibble(t=seq(0,period,length.out = 1e4),y=2^t),
tibble(t=seq(0, period, length.out = 1e4), y=(2^t)+(2^(period-1))) %>% mutate(t = t+period)
) %>%
ggplot(aes(x=t, y=y)) + geom_line() + theme_minimal()
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::stop_server()
blogdown::stop_server()
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
337.5*2
337.5*2
blogdown::stop_server()
?available.packages()
available.packages()
available.packages() %>% pull(1)
available.packages() %>% plyr::pull(1)
available.packages() %>% dplyr::pull(1)
available.packages()[1,]
available.packages()[,1]
a <- available.packages()[,1]
str(a)
library("tidyverse")
available.packages()[,1] %>%
setdiff(installed.packages())
installed.packages()
available.packages()[,1] %>%
setdiff(installed.packages()[.1])
available.packages()[,1] %>%
setdiff(installed.packages()[.1]) %>% length()
length(available.packages())
